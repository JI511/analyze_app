{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'analyze/style.css' %}">
<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Oswald" />

<div class="all_content">
    <div class="content">
        <img src="{% static 'analyze/images/header.png'%}">
    </div>
    {% if svg != None %}
    <form action="{% url 'analyze:plot' %}" method="post">
    {% csrf_token %}
    <div class="selector_content">
        <!-- Selector X AXIS -->
        <div class="selector">
            <h3>X Axis</h3>
            <select name="x_key_name" style="font-family: 'Oswald';">
                {% for name in x_keys %}
                    {% if name.name == selected_x_key %}
                        <option name="{{ name }}" value="{{ name }}" selected>{{ name }}</option>
                    {% else %}
                        <option name="{{ name }}" value="{{ name }}">{{ name }}</option>
                    {% endif %}
                {% endfor %}
            </select>
        </div>
        <!-- Selector Y AXIS -->
        <div class="selector">
            <h3>Y Axis</h3>
            <select name="y_key_name" style="font-family: 'Oswald';">
                {% for name in y_keys %}
                    {% if name.name == selected_y_key %}
                        <option name="{{ name }}" value="{{ name }}" selected>{{ name }}</option>
                    {% else %}
                        <option name="{{ name }}" value="{{ name }}">{{ name }}</option>
                    {% endif %}
                {% endfor %}
            </select>
        </div>
        <!-- PLAYER NAME Filter -->
        <div class="selector">
            <h3>Player Name</h3>
            <input type="text" name="player_name" style="font-family: 'Oswald';">
        </div>
        <!-- TEAM NAME Filter -->
        <div class="selector">
            <h3>Team Name</h3>
            <select id="team_name" name="team_name" style="font-family: 'Oswald';">
                <option selected>Select a Team</option>
                {% for name in team_names %}
                    {% if name.name == selected_team_name %}
                        <option name="{{ name }}" value="{{ name }}" selected>{{ name }}</option>
                    {% else %}
                        <option name="{{ name }}" value="{{ name }}">{{ name }}</option>
                    {% endif %}
                {% endfor %}
            </select>
        </div>
        <div class="selector">
            <h3>Seconds Played</h3>
            <div style="display: flex;">
                <div>
                    <label>Min: </label>
                    <br>
                    <label>Max: </label>
                </div>
                <div style="padding: 3px;">
                    <input style="width: 50px; font-family: 'Oswald';" type="text" name="min_seconds" value="{{ min_seconds }}">
                    <br>
                    <input style="width: 50px; font-family: 'Oswald';" type="text" name="max_seconds" value="{{ max_seconds }}">
                </div>
            </div>
        </div>
        <!-- GRID Enable/Disable -->
        <div class="selector">
            <h3>Graph Grid</h3>
            {% if grid_enabled %}
                <input type="radio" name="grid_enable" value="True" checked>
                <label> Enable</label><br>
                <input type="radio" name="grid_enable" value="False">
                <label> Disable</label>
            {% else %}
                <input type="radio" name="grid_enable" value="True">
                <label> Enable</label><br>
                <input type="radio" name="grid_enable" value="False" checked>
                <label> Disable</label>
            {% endif %}
        </div>
    </div>
    <br>
    <div class="content">
        <input type="submit" value="Update" class="updater">
    </div>
    </form>

    <div style="display: flex; justify-content: center;">
        <div class="side_image_box">
            <div style="text-align: center;">
                <label>Mean: {{ op_mean }}</label><br>
                <label>Median: {{ op_median }}</label><br>
                <label>Std Dev: {{ op_std_dev }}</label><br>
            </div>
        </div>
        <div style="border: 4px solid black;">
            <!-- Show the figure safely -->
            {{ svg|safe }}
        </div>
        <div class="side_image_box">
            <label style="text-decoration: underline; font-size: 24px;">Outliers</label><br>
            <div style="display: flex;">
                <div style="flex: 20%;">
                    {% for value in outlier_values %}
                        <label>{{ value }}</label><br>
                    {% endfor %}
                </div>
                <div style="flex: 80%;">
                    {% for name in outlier_names %}
                        <label>{{ name }}</label><br>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
    <div class="content">
        <label class="text_selector_filter">Data set created from basketball-reference.com</label>
    </div>
    {% else %}
        <p>No data available :(</p>

    {% endif %}

</div>